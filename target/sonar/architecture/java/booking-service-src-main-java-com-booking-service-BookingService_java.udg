
1.0*NaynaBisht_FlightBooking_Microservices_AppJavaFrontend"1764617001252*java2.B¢ 
J
Ebooking-service/src/main/java/com/booking/service/BookingService.java2
	
type3
	
MAIN4


module-key5

booking-service6

package8
(
#booking-service:com.booking.service9
(
"com.booking.service.BookingService11

class12

access13

public14

simple-name15

BookingService16

lombok.extern.slf4j.Slf4j18

unknown19

annotated by20


uses21
,
&org.springframework.stereotype.Service23
$
lombok.RequiredArgsConstructor25
5
/com.booking.service.BookingService.flightClient27

field28

private29

flightClient30
%
com.booking.client.FlightClient32

is type33
<
6org.springframework.beans.factory.annotation.Autowired35
:
4com.booking.service.BookingService.bookingRepository37

bookingRepository38
.
(com.booking.repository.BookingRepository40
<
6com.booking.service.BookingService.pnrGeneratorService42

pnrGeneratorService43
-
'com.booking.service.PnrGeneratorService45
7
1com.booking.service.BookingService.rabbitTemplate47

rabbitTemplate48
9
3org.springframework.amqp.rabbit.core.RabbitTemplate50
‰
‚com.booking.service.BookingService#bookFlight(Ljava/lang/String;Lcom/booking/request/BookingRequest;)Lreactor/core/publisher/Mono;52

method53


bookFlight54
!
reactor.core.publisher.Mono56

returns57
(
"com.booking.request.BookingRequest59

	has param60
*
$com.booking.response.BookingResponse62


references63
e
_reactor.core.publisher.Mono#flatMap(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;65

calls66
k
ereactor.core.publisher.Mono#switchIfEmpty(Lreactor/core/publisher/Mono;)Lreactor/core/publisher/Mono;68
i
ccom.booking.client.FlightClient#findByFlightNumber(Ljava/lang/String;)Lreactor/core/publisher/Mono;70
[
Ureactor.core.publisher.Mono#error(Ljava/lang/Throwable;)Lreactor/core/publisher/Mono;72
.
(com.common.dto.ResourceNotFoundException74

com.booking.dto.FlightDTO76
-
'com.common.dto.SeatUnavailableException78
(
"com.common.dto.BadRequestException80
 
com.booking.entity.Booking82
M
Gcom.booking.service.PnrGeneratorService#generatePnr()Ljava/lang/String;84
a
[reactor.core.publisher.Mono#map(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;86
i
creactor.core.publisher.Mono#doOnSuccess(Ljava/util/function/Consumer;)Lreactor/core/publisher/Mono;88
I
Corg.springframework.data.repository.reactive.ReactiveCrudRepository90

yorg.springframework.data.repository.reactive.ReactiveCrudRepository#save(Ljava/lang/Object;)Lreactor/core/publisher/Mono;92

{org.springframework.amqp.rabbit.core.RabbitTemplate#convertAndSend(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Object;)V94
'
!com.booking.config.RabbitMQConfig96
0
*com.booking.config.RabbitMQConfig.EXCHANGE98
4
-com.booking.config.RabbitMQConfig.ROUTING_KEY100
{
tcom.booking.service.BookingService#toPassenger(Lcom/booking/request/PassengerRequest;)Lcom/booking/entity/Passenger;102

toPassenger103
#
com.booking.entity.Passenger105
+
$com.booking.request.PassengerRequest107

com.booking.enums.Gender109
U
Ncom.booking.enums.Gender#valueOf(Ljava/lang/String;)Lcom/booking/enums/Gender;111
2
+com.common.dto.PassengerValidationException113
'
 com.booking.enums.MealPreference115
e
^com.booking.enums.MealPreference#valueOf(Ljava/lang/String;)Lcom/booking/enums/MealPreference;117
j
ccom.booking.service.BookingService#getBookingByPnr(Ljava/lang/String;)Lreactor/core/publisher/Mono;119

getBookingByPnr120
j
ccom.booking.repository.BookingRepository#findByPnr(Ljava/lang/String;)Lreactor/core/publisher/Mono;122
u
ncom.booking.service.BookingService#getBookingHistoryByEmailId(Ljava/lang/String;)Lreactor/core/publisher/Flux;124
!
getBookingHistoryByEmailId125
"
reactor.core.publisher.Flux127
n
gcom.booking.repository.BookingRepository#findByEmailId(Ljava/lang/String;)Lreactor/core/publisher/Flux;129
h
acom.booking.service.BookingService#cancelBooking(Ljava/lang/String;)Lreactor/core/publisher/Mono;131

cancelBooking132
F
?reactor.core.publisher.Mono#then()Lreactor/core/publisher/Mono;134J#
!
1
12

3
4

5
6Z

7
7982


5
6jü

99
9910019

91
919219

39
394019

77
777819

73
737419

24
242519
B
51<
515253 *
1/ /(210:7B


13
14


15
54

85
858619

31
313219

34
343519
H
123A
12312453 *
1ˆ ˆ(210:7B


13
14

15
125
B
46<
464728 *
1, ,(210:7B


13
29


15
48

61
616219

83
838419

44
444519

64
646519

116
11611719
B
41<
414228 *
1* *(	210:7B


13
29


15
43

58
585919

75
757619

17
171819
B
26<
262728 *
1' '(210:7B


13
29


15
30

97
979819

128
12812919

79
798019

93
939419
B
36<
363728 *
1) )(	210:7B


13
29


15
38

106
10610719

69
697019
F
101?
10110253 *
1m m(	210:7B


13
29

15
103

121
12112219
H
130A
13013153 *
1Œ Œ(210:7B


13
14

15
132

22
222319

81
818219

95
959619

87
878819

49
495019

112
11211319
H
118A
11811953 *
1ƒ ƒ(210:7B


13
14

15
120

71
717219

133
13313419

55
555619

110
11011119

126
12612719

104
10410519

114
11411519
>
108
101112 *
1% %(:7B


13
14


15
16

89
899019

67
676819

108
10810919r·!

101720*
1" "(

101721*
1" "(

102220*
1# #(	

102221*
1# #(	

102420*
1$ $(

102421*
1$ $(

263133*
1(
 ((

263420*
1' '(

263421*
1' '(

263121*
1(
 ((

263121*
1( ((#

363933*
1) )(!

363921*
1) )(!

363921*
1)" )(3

414433*
1* *(#

414421*
1* *(#

414421*
1*$ *(7

464933*
1-
 -(

463420*
1, ,(

463421*
1, ,(

464921*
1-
 -(

464921*
1- -('

515557*
1/	 /(

515860*
1/? /(M

515521*
1/	 /(

516121*
1/ /(

515833*
1/N /(U

515821*
1/? /(M

515557*
11
 1(

515563*
11
 1(

516466*
14 4(

515557*
11
 1(

515563*
11
 1(

516766*
12 2(

515557*
11
 1(

513163*
11
 1(

516966*
11 1()

512663*
11
 1(

513121*
11
 1(

512663*
11
 1(

515557*
13 3(

515563*
13 3(

517166*
13 3(

517366*
13 3(/

517533*
14 4(

517766*
19 9()

517966*
1= =($

518133*
1D D(

518121*
1D D(

518166*
1D D(#

514463*
1F F((

518366*
1F) F(4

514163*
1F F((

514421*
1F F((

514163*
1F F((

511021*
1N- N(1

511063*
1N- N(1

515557*
1S S(

515563*
1S S(

518566*
1h	 h(

515557*
1S S(

515563*
1S S(

518766*
1S- S(8

515557*
1S S(

518963*
1S S(

519166*
1S S(#

513663*
1S S(

513921*
1S S(

513663*
1S S(

518133*
1S9 S(E

514963*
1a a(

519366*
1a a(%

514663*
1a a(

514921*
1a a(

514663*
1a a(

519521*
1a& a(4

519763*
1a5 a(=

519521*
1a? a(M

519963*
1aN a(Y

518133*
1h h(

10110457*
1m
 m(

10110660*
1m  m(0

10110421*
1m
 m(

10110633*
1m1 m(4

10110621*
1m  m(0

10110433*
1n n(

10110421*
1n n(

10110466*
1n n(

10110857*
1s s(

10110863*
1s s(

10111066*
1s s(

10110821*
1s s(

10111266*
1u u(*

10111457*
1{ {( 

10111463*
1{ {( 

10111666*
1{! {((

10111421*
1{ {( 

10111266*
1} }(*

1185557*
1ƒ	 ƒ(

1185521*
1ƒ	 ƒ(

1188121*
1ƒ ƒ(

1185557*
1„
 „(

1185563*
1„
 „(

1186766*
1… …(

1185557*
1„
 „(

1183963*
1„
 „(

11812166*
1„ „(%

1183663*
1„
 „(

1183921*
1„
 „(

1183663*
1„
 „(

1185557*
1… …(

1185563*
1… …(

1187166*
1… …(

1187366*
1…# …(<

12312657*
1ˆ	 ˆ(

12312621*
1ˆ	 ˆ(

1238121*
1ˆ ˆ(

12312657*
1‰
 ‰(

1233963*
1‰
 ‰(

12312866*
1‰ ‰()

1233663*
1‰
 ‰(

1233921*
1‰
 ‰(

1233663*
1‰
 ‰(

1305557*
1Œ	 Œ(

1305521*
1Œ	 Œ(

1305557*
1
 (

1305563*
1
 (

13013366*
1‘ ‘(

1305557*
1
 (

1305563*
1
 (

1306466*
1ŽT Ž([

1305557*
1
 (

1305563*
1
 (

1306766*
1Ž Ž(

1305557*
1
 (

1303963*
1
 (

13012166*
1 (%

1303663*
1
 (

1303921*
1
 (

1303663*
1
 (

1305557*
1Ž Ž(

1305563*
1Ž Ž(

1307166*
1Ž Ž(

1307366*
1Ž# Ž(<

1308133*
1Ž\ Ž(c

1305557*
1 (

1308963*
1 (

1309166*
1 (#

1303663*
1 (

1303921*
1 (

1303663*
1 (